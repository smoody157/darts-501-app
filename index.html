<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0, viewport-fit=cover" />
    <title>01 OUT TRAINER</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Exo+2:wght@900&family=Rajdhani:wght@700&display=swap');
        :root { --cobalt: #0a63ff; --cyan: #00f2ff; --pink: #ff007a; --bg: #010204; --glass: rgba(15, 20, 30, 0.95); }
        @media screen and (orientation: portrait) {
            body { background: #000 !important; }
            .master-app { display: none !important; }
            .portrait-blocker { display: flex !important; position: fixed; inset: 0; background: #000; color: var(--cyan); flex-direction: column; justify-content: center; align-items: center; z-index: 99999; font-size: 2.5rem; text-align: center; }
        }
        .portrait-blocker { display: none; }
        * { margin: 0; padding: 0; box-sizing: border-box; font-weight: 900; font-family: 'Exo 2', sans-serif; }
        body { background-color: var(--bg); color: #fff; height: 100vh; width: 100vw; overflow: hidden; display: flex; align-items: center; justify-content: center; background-image: radial-gradient(circle at 50% 50%, #0a1a33 0%, #000 100%); }
        .master-app { width: 98vw; height: 96vh; background: var(--glass); border: 2px solid rgba(255,255,255,0.15); border-radius: 40px; display: flex; flex-direction: column; padding: 2vh; backdrop-filter: blur(60px); }
        .header { flex: 0 0 10vh; display: flex; justify-content: center; align-items: center; border-bottom: 2px solid rgba(255,255,255,0.1); }
        .header h1 { font-size: 5vh; letter-spacing: 1.5vw; text-shadow: 0 0 30px var(--cobalt); }
        .main-stage { flex: 1; display: flex; gap: 2vw; padding: 2vh 1vw; }
        .terminal { flex: 1; display: flex; flex-direction: column; gap: 3vh; }
        .module-card { flex: 1; background: linear-gradient(145deg, #0d1117, #000); border: 1px solid rgba(255,255,255,0.1); border-radius: 30px; display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 20px; }
        .label { font-family: 'Rajdhani', sans-serif; color: var(--cyan); letter-spacing: 5px; font-size: 1.1rem; text-transform: uppercase; margin-bottom: 5px; }
        .score-hero { font-size: 10vh; text-shadow: 0 0 50px var(--cobalt); margin-bottom: 10px; }
        .btn-row { display: flex; gap: 15px; }
        .btn-reset { background: #111; border: 2px solid var(--cobalt); color: #fff; padding: 12px 20px; border-radius: 12px; cursor: pointer; font-size: 1.1rem; }
        .input-hit { width: 85%; background: #000; border: 3px solid var(--cobalt); border-radius: 15px; font-size: 6vh; color: #fff; text-align: center; margin: 15px 0; outline: none; }
        .btn-apply { width: 85%; padding: 2vh; background: linear-gradient(to bottom, var(--cyan), #000); border: none; border-radius: 15px; color: #fff; font-size: 2.2vh; cursor: pointer; letter-spacing: 2px; }
        .data-grid { flex: 1.8; display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5vw; }
        .crystal-housing { background: linear-gradient(160deg, rgba(255,255,255,0.08) 0%, #000 100%); border: 1px solid rgba(255,255,255,0.15); border-radius: 120px; display: flex; flex-direction: column; align-items: center; justify-content: space-evenly; padding: 4vh 0; }
        .orb-display { width: 14vh; height: 14vh; border-radius: 50%; background: radial-gradient(circle at 30% 30%, #222, #000); border: 5px solid #111; display: flex; align-items: center; justify-content: center; font-size: 4vh; box-shadow: 0 0 40px var(--cobalt); color: #fff; }
        .rem-digit { font-size: 7vh; color: var(--pink); text-shadow: 0 0 30px var(--pink); }
    </style>
</head>
<body>
    <div class="portrait-blocker">ROTATE TO LANDSCAPE</div>
    <div class="master-app">
        <header class="header"><h1>01 OUT TRAINER</h1></header>
        <div class="main-stage">
            <div class="terminal">
                <div class="module-card">
                    <div class="label">REMAINING</div>
                    <div class="score-hero" id="bal">501</div>
                    <div class="btn-row">
                        <button class="btn-reset" onclick="reset(301)">301</button>
                        <button class="btn-reset" onclick="reset(501)">501</button>
                        <button class="btn-reset" onclick="reset(701)">701</button>
                    </div>
                </div>
                <div class="module-card">
                    <div class="label">ENTER HIT</div>
                    <input type="number" id="hit" class="input-hit" inputmode="numeric">
                    <button class="btn-apply" onclick="processHit()">APPLY TURN</button>
                </div>
            </div>
            <div class="data-grid">
                <div class="crystal-housing">
                    <div class="label">DART 1</div>
                    <div class="orb-display" id="s1">-</div>
                    <div style="text-align:center"><div class="label">LEAVES</div><div class="rem-digit" id="r1">-</div></div>
                </div>
                <div class="crystal-housing">
                    <div class="label">DART 2</div>
                    <div class="orb-display" id="s2">-</div>
                    <div style="text-align:center"><div class="label">LEAVES</div><div class="rem-digit" id="r2">-</div></div>
                </div>
                <div class="crystal-housing">
                    <div class="label">DART 3</div>
                    <div class="orb-display" id="s3">-</div>
                    <div style="text-align:center"><div class="label">LEAVES</div><div class="rem-digit" id="r3">-</div></div>
                </div>
            </div>
        </div>
    </div>
    <script>
        let score = 501;
        const m = {};
        m[2]=["D1",0]; m[3]=["S1",2]; m[4]=["D2",0]; m[5]=["S1",4]; m[6]=["D3",0]; m[7]=["S3",4]; m[8]=["D4",0]; m[9]=["S1",8]; m[10]=["D5",0];
        m[11]=["S3",8]; m[12]=["D6",0]; m[13]=["S5",8]; m[14]=["D7",0]; m[15]=["S7",8]; m[16]=["D8",0]; m[17]=["S9",8]; m[18]=["D9",0]; m[19]=["S3",16];
        m[20]=["D10",0]; m[21]=["S5",16]; m[22]=["D11",0]; m[23]=["S7",16]; m[24]=["D12",0]; m[25]=["S9",16]; m[26]=["D13",0]; m[27]=["S11",16]; m[28]=["D14",0];
        m[29]=["S13",16]; m[30]=["D15",0]; m[31]=["S15",16]; m[32]=["D16",0]; m[33]=["S1",32]; m[34]=["D17",0]; m[35]=["S3",32]; m[36]=["D18",0]; m[37]=["S5",32];
        m[38]=["D19",0]; m[39]=["S7",32]; m[40]=["D20",0]; m[41]=["S9",32]; m[42]=["S10",32]; m[43]=["S11",32]; m[44]=["S12",32]; m[45]=["S13",32]; m[46]=["S6",40];
        m[47]=["S7",40]; m[48]=["S8",40]; m[49]=["S9",40]; m[50]=["S10",40]; m[51]=["S11",40]; m[52]=["S12",40]; m[53]=["S13",40]; m[54]=["S14",40]; m[55]=["S15",40];
        m[56]=["S16",40]; m[57]=["S17",40]; m[58]=["S18",40]; m[59]=["S19",40]; m[60]=["S20",40]; m[61]=["SB",36]; m[62]=["T10",32]; m[63]=["T13",24]; m[64]=["T16",16];
        m[65]=["SB",40]; m[66]=["T14",24]; m[67]=["T17",16]; m[68]=["T16",20]; m[69]=["T15",24]; m[70]=["T10",40]; m[71]=["T13",32]; m[72]=["T16",24]; m[73]=["T19",16];
        m[74]=["T14",32]; m[75]=["T17",24]; m[76]=["T16",28]; m[77]=["T19",20]; m[78]=["T18",24]; m[79]=["T19",22]; m[80]=["D20",40]; m[81]=["T19",24]; m[82]=["DB",32];
        m[83]=["T17",32]; m[84]=["T20",24]; m[85]=["T15",40]; m[86]=["T18",32]; m[87]=["T17",36]; m[88]=["T20",28]; m[89]=["T19",32]; m[90]=["T18",36]; m[91]=["T17",40];
        m[92]=["T20",32]; m[93]=["T19",36]; m[94]=["T18",40]; m[95]=["T19",38]; m[96]=["T20",36]; m[97]=["T19",40]; m[98]=["T20",38]; m[99]=["T19",42]; m[100]=["T20",40];
        m[101]=["T19",44]; m[102]=["T20",42]; m[103]=["T19",46]; m[104]=["T16",56]; m[105]=["DB",55]; m[106]=["T20",46]; m[107]=["T19",50]; m[108]=["T19",51]; m[109]=["T20",49];
        m[110]=["T19",53]; m[111]=["T19",54]; m[112]=["T20",52]; m[113]=["T19",56]; m[114]=["T18",60]; m[115]=["T19",58]; m[116]=["T20",56]; m[117]=["T20",57]; m[118]=["T20",58];
        m[119]=["T19",62]; m[120]=["T20",60]; m[121]=["T20",61]; m[122]=["T18",68]; m[123]=["T19",66]; m[124]=["T20",64]; m[125]=["DB",75]; m[126]=["T19",69]; m[127]=["T20",67];
        m[128]=["T18",74]; m[129]=["T19",72]; m[130]=["T20",70]; m[131]=["T17",80]; m[132]=["DB",82]; m[133]=["T20",73]; m[134]=["T18",80]; m[135]=["DB",85]; m[136]=["T20",76];
        m[137]=["T20",77]; m[138]=["T19",81]; m[139]=["T19",82]; m[140]=["T20",80]; m[141]=["T20",81]; m[142]=["T20",82]; m[143]=["T20",83]; m[144]=["T20",84]; m[145]=["T20",85];
        m[146]=["T20",86]; m[147]=["T20",87]; m[148]=["T20",88]; m[149]=["T20",89]; m[150]=["T19",93]; m[151]=["T20",91]; m[152]=["T20",92]; m[153]=["T20",93]; m[154]=["T19",97];
        m[155]=["T20",95]; m[156]=["T20",96]; m[157]=["T20",97]; m[158]=["T20",98]; m[159]=["T20",99]; m[160]=["T20",100]; m[161]=["T20",101]; m[162]=["T20",102]; m[163]=["T20",103];
        m[164]=["T19",107]; m[165]=["T20",105]; m[166]=["T20",106]; m[167]=["T20",107]; m[168]=["T20",108]; m[169]=["T20",109]; m[170]=["T20",110];
        // Repeating pattern for bulk scores 171-701 to ensure exact map adherence
        for(let i=171; i<=701; i++) { if(!m[i]) m[i]=["T20", i-60]; } 
        // Manual override for specific spreadsheet points
        m[301]=["T19", 241]; m[501]=["T20", 441]; m[701]=["T20", 641];

        function reset(n) { score = n; syncUI(); }
        function processHit() {
            const h = parseInt(document.getElementById('hit').value) || 0;
            if (score - h >= 2 || score - h === 0) score -= h;
            syncUI();
            document.getElementById('hit').value = '';
        }
        function syncUI() {
            document.getElementById('bal').innerText = score;
            let t = score;
            for(let i=1; i<=3; i++) {
                if (m[t]) {
                    document.getElementById('s'+i).innerText = m[t][0];
                    document.getElementById('r'+i).innerText = m[t][1];
                    t = m[t][1];
                } else {
                    document.getElementById('s'+i).innerText = "-";
                    document.getElementById('r'+i).innerText = "-";
                }
            }
        }
        syncUI();
    </script>
</body>
</html>
