<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
<meta name="theme-color" content="#0a63ff"/>
<title>THE DART ROOM</title>
<style>
:root{
  --bg0:#03050a;--bg1:#050816;--blueA:#0a63ff;--blueB:#1b8bff;--blueC:#00d0ff;
  --text:#f6f9ff;--muted:rgba(246,249,255,.64);
  --panel:rgba(10,14,26,.78);--panel2:rgba(12,18,34,.72);
  --stroke:rgba(27,139,255,.35);--stroke2:rgba(255,255,255,.10);
  --shadow:0 18px 56px rgba(0,0,0,.66);--shadow2:0 10px 26px rgba(0,0,0,.48);--r:18px;
}
*{box-sizing:border-box} html,body{height:100%}
body{margin:0;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Arial,Helvetica,sans-serif;font-weight:900;color:var(--text);
background:linear-gradient(180deg,var(--bg1),var(--bg0));overflow-x:hidden;}
.bg{position:fixed;inset:0;z-index:0;pointer-events:none;background:
radial-gradient(900px 520px at 50% -12%, rgba(10,99,255,.28), transparent 62%),
radial-gradient(520px 520px at 18% 40%, rgba(0,208,255,.14), transparent 60%),
radial-gradient(520px 520px at 84% 60%, rgba(27,139,255,.16), transparent 60%),
linear-gradient(180deg,#070b1a 0%,#03050a 100%);}
.lightning{position:fixed;inset:-120px;z-index:1;pointer-events:none;background:
conic-gradient(from 230deg at 24% 22%, rgba(27,139,255,.22), transparent 26%, rgba(0,208,255,.18), transparent 62%),
conic-gradient(from 30deg at 78% 58%, rgba(0,208,255,.20), transparent 30%, rgba(10,99,255,.16), transparent 64%);
filter:blur(16px);opacity:.92;animation:drift 10s ease-in-out infinite;}
@keyframes drift{0%,100%{transform:translate3d(0,0,0) scale(1)}50%{transform:translate3d(18px,-14px,0) scale(1.02)}}
.wrap{position:relative;z-index:2;max-width:980px;margin:0 auto;padding:16px 14px 44px;}
.header{display:flex;align-items:center;justify-content:space-between;gap:12px;padding:14px;border-radius:var(--r);
border:1px solid var(--stroke2);background:linear-gradient(180deg, rgba(255,255,255,.06), rgba(255,255,255,.02));box-shadow:var(--shadow);}
.brand{display:flex;align-items:center;gap:12px;min-width:0;}
.logo{width:46px;height:46px;border-radius:14px;border:1px solid rgba(27,139,255,.55);background:
radial-gradient(circle at 30% 30%, rgba(27,139,255,.50), transparent 58%),
radial-gradient(circle at 70% 70%, rgba(255,255,255,.16), transparent 62%),
linear-gradient(180deg, rgba(0,208,255,.18), rgba(0,0,0,0));
box-shadow:0 10px 24px rgba(0,0,0,.55), inset 0 -2px 0 rgba(0,0,0,.35);}
.title{margin:0;font-size:30px;letter-spacing:1px;line-height:1.05;text-shadow:0 0 18px rgba(27,139,255,.30);}
.subtitle{margin-top:4px;font-size:12px;color:var(--muted);letter-spacing:1px;}
.chip{padding:10px 12px;border-radius:999px;border:1px solid rgba(27,139,255,.45);background:rgba(27,139,255,.14);font-size:14px;white-space:nowrap;}
.grid{margin-top:16px;display:grid;grid-template-columns:330px 1fr;gap:16px;align-items:start;}
@media(max-width:980px){.grid{grid-template-columns:1fr;}}
.card{border-radius:var(--r);background:rgba(255,255,255,.03);border:1px solid rgba(255,255,255,.08);box-shadow:var(--shadow);padding:14px;}
.stack{display:flex;flex-direction:column;gap:14px;}
.box{text-align:center;border-radius:16px;padding:12px 12px 14px;border:1px solid var(--stroke);background:var(--panel);
box-shadow:var(--shadow2), inset 0 1px 0 rgba(255,255,255,.06);}
.label{font-size:12px;letter-spacing:1.1px;text-transform:uppercase;color:rgba(246,249,255,.76);margin-bottom:10px;}
.bigNumber{font-size:58px;line-height:1;color:var(--blueC);text-shadow:0 0 18px rgba(0,208,255,.20);}
input.score{width:100%;font-size:58px;text-align:center;border:none;background:transparent;color:var(--blueC);outline:none;font-weight:1000;
text-shadow:0 0 18px rgba(0,208,255,.18);}
input.score::-webkit-outer-spin-button,input.score::-webkit-inner-spin-button{-webkit-appearance:none;margin:0;}
.btnRow{display:flex;gap:10px;justify-content:center;flex-wrap:wrap;margin-top:10px;}
button.btn{padding:12px 16px;border-radius:14px;border:1px solid rgba(255,255,255,.12);background:rgba(255,255,255,.06);color:var(--text);
font-size:16px;font-weight:900;}
button.btn.primary{border:1px solid rgba(27,139,255,.55);background:rgba(27,139,255,.16);}
button.btn:active{transform:translateY(1px);}
.hint{margin-top:8px;font-size:13px;color:var(--muted);text-align:center;line-height:1.35;}
.status{margin-top:10px;min-height:18px;font-size:14px;color:rgba(246,249,255,.74);text-align:center;}
.status.error{color:#ffb3b3;}.status.win{color:#baf7d1;}
.flights{display:grid;grid-template-columns:repeat(3,1fr);gap:14px;}
@media(max-width:920px){.flights{grid-template-columns:1fr;}}
.flight{position:relative;border-radius:20px;padding:16px 14px 18px;min-height:240px;border:1px solid rgba(27,139,255,.34);
background:var(--panel2);box-shadow:var(--shadow);text-align:center;overflow:hidden;}
.flight::before{content:"";position:absolute;inset:-1px;background:rgba(27,139,255,.11);
clip-path:polygon(50% 0%,96% 16%,88% 34%,100% 56%,76% 62%,70% 100%,50% 82%,30% 100%,24% 62%,0% 56%,12% 34%,4% 16%);
opacity:.98;}
.flight>*{position:relative;z-index:1;}
.dartLabel{font-size:28px;letter-spacing:1px;text-transform:uppercase;margin:6px 0 12px;color:rgba(246,249,255,.96);}
.shot{width:100%;max-width:260px;margin:0 auto 12px;border-radius:16px;background:#f3f3f3;color:#111;padding:14px 12px;font-size:56px;
font-weight:1000;box-shadow:0 14px 30px rgba(0,0,0,.35), inset 0 -3px 0 rgba(0,0,0,.12), inset 0 2px 0 rgba(255,255,255,.7);}
.subLabel{font-size:12px;letter-spacing:1px;text-transform:uppercase;color:rgba(246,249,255,.72);margin:0 0 8px;}
.leave{width:100%;max-width:260px;margin:0 auto;border-radius:16px;padding:12px 12px;border:1px solid rgba(0,208,255,.42);
background:rgba(0,208,255,.12);font-size:46px;color:var(--blueC);font-weight:1000;}
.footerNote{margin-top:12px;font-size:11px;color:rgba(246,249,255,.48);text-align:center;}
.credit{margin-top:10px;text-align:center;font-size:12px;color:rgba(255,255,255,.58);letter-spacing:.5px;}
</style>
</head>
<body>
<div class="bg"></div><div class="lightning"></div>

<div class="wrap">
  <div class="header">
    <div class="brand">
      <div class="logo" aria-hidden="true"></div>
      <div>
        <h1 class="title">THE DART ROOM</h1>
        <div class="subtitle">Training guidance 701â†’2 â€¢ Spreadsheet-outs power 501â†’2 â€¢ Double-out bust rules</div>
      </div>
    </div>
    <div class="chip">701 / 501</div>
  </div>

  <div class="grid">
    <div class="card">
      <div class="stack">
        <div class="box">
          <div class="label">Starting Score (mirrors what you have left)</div>
          <input id="startScore" class="score" type="number" inputmode="numeric" value="701" />
          <div class="btnRow">
            <button class="btn" id="set501" type="button">Set 501</button>
            <button class="btn" id="set701" type="button">Set 701</button>
          </div>
          <div class="hint">Top number always updates to the current remaining score.</div>
        </div>

        <div class="box">
          <div class="label">Score Hit</div>
          <form id="scoreForm" autocomplete="off">
            <input id="hit" class="score" type="number" inputmode="numeric" placeholder="0" />
            <div class="btnRow">
              <button class="btn primary" type="submit">Enter âœ“</button>
              <button class="btn" id="clearBtn" type="button">Clear</button>
            </div>
          </form>
          <div class="hint">Type your score and tap Enter âœ“. It auto-clears.</div>
        </div>

        <div class="box">
          <div class="label">What You Have Left</div>
          <div class="bigNumber" id="left">â€”</div>
          <div class="status" id="status"></div>
        </div>
      </div>
    </div>

    <div class="card">
      <div class="flights">
        <div class="flight">
          <div class="dartLabel">Dart 1</div>
          <div class="shot" id="d1">â€”</div>
          <div class="subLabel">Left after Dart 1</div>
          <div class="leave" id="l1">â€”</div>
        </div>
        <div class="flight">
          <div class="dartLabel">Dart 2</div>
          <div class="shot" id="d2">â€”</div>
          <div class="subLabel">Left after Dart 2</div>
          <div class="leave" id="l2">â€”</div>
        </div>
        <div class="flight">
          <div class="dartLabel">Dart 3</div>
          <div class="shot" id="d3">â€”</div>
          <div class="subLabel">Left after Dart 3</div>
          <div class="leave" id="l3">â€”</div>
        </div>
      </div>
      <div class="footerNote">Double-out training: bust if you go below 0 or leave 1.</div>
      <div class="credit">Developed by Steveâ€™s Graphic Designs</div>
    </div>
  </div>
</div>

<script>
const OUTS={
"2":{"shoot":"D1","left":0},"3":{"shoot":"S1","left":2},"4":{"shoot":"D2","left":0},"5":{"shoot":"S1","left":4},"6":{"shoot":"D3","left":0},
"7":{"shoot":"S3","left":4},"8":{"shoot":"D4","left":0},"9":{"shoot":"S1","left":8},"10":{"shoot":"D5","left":0},"11":{"shoot":"S3","left":8},
"12":{"shoot":"D6","left":0},"13":{"shoot":"S5","left":8},"14":{"shoot":"D7","left":0},"15":{"shoot":"S7","left":8},"16":{"shoot":"D8","left":0},
"17":{"shoot":"S1","left":16},"18":{"shoot":"D9","left":0},"19":{"shoot":"S3","left":16},"20":{"shoot":"D10","left":0},"21":{"shoot":"S5","left":16},
"22":{"shoot":"D11","left":0},"23":{"shoot":"S7","left":16},"24":{"shoot":"D12","left":0},"25":{"shoot":"S9","left":16},"26":{"shoot":"D13","left":0},
"27":{"shoot":"S11","left":16},"28":{"shoot":"D14","left":0},"29":{"shoot":"S13","left":16},"30":{"shoot":"D15","left":0},"31":{"shoot":"S15","left":16},
"32":{"shoot":"D16","left":0},"33":{"shoot":"S1","left":32},"34":{"shoot":"D17","left":0},"35":{"shoot":"S3","left":32},"36":{"shoot":"D18","left":0},
"37":{"shoot":"S5","left":32},"38":{"shoot":"D19","left":0},"39":{"shoot":"S7","left":32},"40":{"shoot":"D20","left":0},"41":{"shoot":"S9","left":32},
"42":{"shoot":"D21","left":0},"43":{"shoot":"S11","left":32},"44":{"shoot":"D22","left":0},"45":{"shoot":"S13","left":32},"46":{"shoot":"D23","left":0},
"47":{"shoot":"S15","left":32},"48":{"shoot":"D24","left":0},"49":{"shoot":"S17","left":32},"50":{"shoot":"D25","left":0},"51":{"shoot":"S19","left":32},
"52":{"shoot":"D26","left":0},"53":{"shoot":"S21","left":32},"54":{"shoot":"D27","left":0},"55":{"shoot":"S23","left":32},"56":{"shoot":"D28","left":0},
"57":{"shoot":"S25","left":32},"58":{"shoot":"D29","left":0},"59":{"shoot":"S27","left":32},"60":{"shoot":"D30","left":0},"61":{"shoot":"S29","left":32},
"62":{"shoot":"D31","left":0},"63":{"shoot":"S31","left":32},"64":{"shoot":"D32","left":0},"65":{"shoot":"S1","left":64},"66":{"shoot":"D33","left":0},
"67":{"shoot":"S3","left":64},"68":{"shoot":"D34","left":0},"69":{"shoot":"S5","left":64},"70":{"shoot":"D35","left":0},"71":{"shoot":"S7","left":64},
"72":{"shoot":"D36","left":0},"73":{"shoot":"S9","left":64},"74":{"shoot":"D37","left":0},"75":{"shoot":"S11","left":64},"76":{"shoot":"D38","left":0},
"77":{"shoot":"S13","left":64},"78":{"shoot":"D39","left":0},"79":{"shoot":"S15","left":64},"80":{"shoot":"D40","left":0},"81":{"shoot":"S17","left":64},
"82":{"shoot":"D41","left":0},"83":{"shoot":"S19","left":64},"84":{"shoot":"D42","left":0},"85":{"shoot":"S21","left":64},"86":{"shoot":"D43","left":0},
"87":{"shoot":"S23","left":64},"88":{"shoot":"D44","left":0},"89":{"shoot":"S25","left":64},"90":{"shoot":"D45","left":0},"91":{"shoot":"S27","left":64},
"92":{"shoot":"D46","left":0},"93":{"shoot":"S29","left":64},"94":{"shoot":"D47","left":0},"95":{"shoot":"S31","left":64},"96":{"shoot":"D48","left":0},
"97":{"shoot":"S33","left":64},"98":{"shoot":"D49","left":0},"99":{"shoot":"S35","left":64},"100":{"shoot":"D50","left":0},"101":{"shoot":"S37","left":64},
"102":{"shoot":"D51","left":0},"103":{"shoot":"S39","left":64},"104":{"shoot":"D52","left":0},"105":{"shoot":"S41","left":64},"106":{"shoot":"D53","left":0},
"107":{"shoot":"S43","left":64},"108":{"shoot":"D54","left":0},"109":{"shoot":"S45","left":64},"110":{"shoot":"D55","left":0},"111":{"shoot":"S47","left":64},
"112":{"shoot":"D56","left":0},"113":{"shoot":"S49","left":64},"114":{"shoot":"D57","left":0},"115":{"shoot":"S51","left":64},"116":{"shoot":"D58","left":0},
"117":{"shoot":"S53","left":64},"118":{"shoot":"D59","left":0},"119":{"shoot":"S55","left":64},"120":{"shoot":"D60","left":0},"121":{"shoot":"S57","left":64},
"122":{"shoot":"D61","left":0},"123":{"shoot":"S59","left":64},"124":{"shoot":"D62","left":0},"125":{"shoot":"S61","left":64},"126":{"shoot":"D63","left":0},
"127":{"shoot":"S63","left":64},"128":{"shoot":"D64","left":0},"129":{"shoot":"T20","left":69},"130":{"shoot":"T20","left":70},"131":{"shoot":"T20","left":71},
"132":{"shoot":"T20","left":72},"133":{"shoot":"T20","left":73},"134":{"shoot":"T20","left":74},"135":{"shoot":"T20","left":75},"136":{"shoot":"T20","left":76},
"137":{"shoot":"T20","left":77},"138":{"shoot":"T20","left":78},"139":{"shoot":"T20","left":79},"140":{"shoot":"T20","left":80},"141":{"shoot":"T20","left":81},
"142":{"shoot":"T20","left":82},"143":{"shoot":"T20","left":83},"144":{"shoot":"T20","left":84},"145":{"shoot":"T20","left":85},"146":{"shoot":"T20","left":86},
"147":{"shoot":"T20","left":87},"148":{"shoot":"T20","left":88},"149":{"shoot":"T20","left":89},"150":{"shoot":"T20","left":90},"151":{"shoot":"T20","left":91},
"152":{"shoot":"T20","left":92},"153":{"shoot":"T20","left":93},"154":{"shoot":"T20","left":94},"155":{"shoot":"T20","left":95},"156":{"shoot":"T20","left":96},
"157":{"shoot":"T20","left":97},"158":{"shoot":"T20","left":98},"159":{"shoot":"T20","left":99},"160":{"shoot":"T20","left":100},"161":{"shoot":"T20","left":101},
"162":{"shoot":"T20","left":102},"163":{"shoot":"T20","left":103},"164":{"shoot":"T20","left":104},"165":{"shoot":"T20","left":105},"166":{"shoot":"T20","left":106},
  "167":{"shoot":"T20","left":107},
"168":{"shoot":"T20","left":108},
"169":{"shoot":"T20","left":109},
"170":{"shoot":"T20","left":110},
"171":{"shoot":"T20","left":111},
"172":{"shoot":"T20","left":112},
"173":{"shoot":"T20","left":113},
"174":{"shoot":"T20","left":114},
"175":{"shoot":"T20","left":115},
"176":{"shoot":"T20","left":116},
"177":{"shoot":"T20","left":117},
"178":{"shoot":"T20","left":118},
"179":{"shoot":"T20","left":119},
"180":{"shoot":"T20","left":120},
"181":{"shoot":"T20","left":121},
"182":{"shoot":"T20","left":122},
"183":{"shoot":"T20","left":123},
"184":{"shoot":"T20","left":124},
"185":{"shoot":"T20","left":125},
"186":{"shoot":"T20","left":126},
"187":{"shoot":"T20","left":127},
"188":{"shoot":"T20","left":128},
"189":{"shoot":"T20","left":129},
"190":{"shoot":"T20","left":130},
"191":{"shoot":"T20","left":131},
"192":{"shoot":"T20","left":132},
"193":{"shoot":"T20","left":133},
"194":{"shoot":"T20","left":134},
"195":{"shoot":"T20","left":135},
"196":{"shoot":"T20","left":136},
"197":{"shoot":"T20","left":137},
"198":{"shoot":"T20","left":138},
"199":{"shoot":"T20","left":139},
"200":{"shoot":"T20","left":140},
"201":{"shoot":"T20","left":141},
"202":{"shoot":"T20","left":142},
"203":{"shoot":"T20","left":143},
"204":{"shoot":"T20","left":144},
"205":{"shoot":"T20","left":145},
"206":{"shoot":"T20","left":146},
"207":{"shoot":"T20","left":147},
"208":{"shoot":"T20","left":148},
"209":{"shoot":"T20","left":149},
"210":{"shoot":"T20","left":150},
"211":{"shoot":"T20","left":151},
"212":{"shoot":"T20","left":152},
"213":{"shoot":"T20","left":153},
"214":{"shoot":"T20","left":154},
"215":{"shoot":"T20","left":155},
"216":{"shoot":"T20","left":156},
"217":{"shoot":"T20","left":157},
"218":{"shoot":"T20","left":158},
"219":{"shoot":"T20","left":159},
"220":{"shoot":"T20","left":160},
"221":{"shoot":"T20","left":161},
"222":{"shoot":"T20","left":162},
"223":{"shoot":"T20","left":163},
"224":{"shoot":"T20","left":164},
"225":{"shoot":"T20","left":165},
"226":{"shoot":"T20","left":166},
"227":{"shoot":"T20","left":167},
"228":{"shoot":"T20","left":168},
"229":{"shoot":"T20","left":169},
"230":{"shoot":"T20","left":170},
"231":{"shoot":"T20","left":171},
"232":{"shoot":"T20","left":172},
"233":{"shoot":"T20","left":173},
"234":{"shoot":"T20","left":174},
"235":{"shoot":"T20","left":175},
"236":{"shoot":"T20","left":176},
"237":{"shoot":"T20","left":177},
"238":{"shoot":"T20","left":178},
"239":{"shoot":"T20","left":179},
"240":{"shoot":"T20","left":180},
"241":{"shoot":"T20","left":181},
"242":{"shoot":"T20","left":182},
"243":{"shoot":"T20","left":183},
"244":{"shoot":"T20","left":184},
"245":{"shoot":"T20","left":185},
"246":{"shoot":"T20","left":186},
"247":{"shoot":"T20","left":187},
"248":{"shoot":"T20","left":188},
"249":{"shoot":"T20","left":189},
"250":{"shoot":"T20","left":190},
"251":{"shoot":"T20","left":191},
"252":{"shoot":"T20","left":192},
"253":{"shoot":"T20","left":193},
"254":{"shoot":"T20","left":194},
"255":{"shoot":"T20","left":195},
"256":{"shoot":"T20","left":196},
"257":{"shoot":"T20","left":197},
"258":{"shoot":"T20","left":198},
"259":{"shoot":"T20","left":199},
"260":{"shoot":"T20","left":200},
"261":{"shoot":"T20","left":201},
"262":{"shoot":"T20","left":202},
"263":{"shoot":"T20","left":203},
"264":{"shoot":"T20","left":204},
"265":{"shoot":"T20","left":205},
"266":{"shoot":"T20","left":206},
"267":{"shoot":"T20","left":207},
"268":{"shoot":"T20","left":208},
"269":{"shoot":"T20","left":209},
"270":{"shoot":"T20","left":210},
"271":{"shoot":"T20","left":211},
"272":{"shoot":"T20","left":212},
"273":{"shoot":"T20","left":213},
"274":{"shoot":"T20","left":214},
"275":{"shoot":"T20","left":215},
"276":{"shoot":"T20","left":216},
"277":{"shoot":"T20","left":217},
"278":{"shoot":"T20","left":218},
"279":{"shoot":"T20","left":219},
"280":{"shoot":"T20","left":220},
"281":{"shoot":"T20","left":221},
"282":{"shoot":"T20","left":222},
"283":{"shoot":"T20","left":223},
"284":{"shoot":"T20","left":224},
"285":{"shoot":"T20","left":225},
"286":{"shoot":"T20","left":226},
"287":{"shoot":"T20","left":227},
"288":{"shoot":"T20","left":228},
"289":{"shoot":"T20","left":229},
"290":{"shoot":"T20","left":230},
"291":{"shoot":"T20","left":231},
"292":{"shoot":"T20","left":232},
"293":{"shoot":"T20","left":233},
"294":{"shoot":"T20","left":234},
"295":{"shoot":"T20","left":235},
"296":{"shoot":"T20","left":236},
"297":{"shoot":"T20","left":237},
"298":{"shoot":"T20","left":238},
"299":{"shoot":"T20","left":239},
"300":{"shoot":"T20","left":240},
"301":{"shoot":"T20","left":241},
"302":{"shoot":"T20","left":242},
"303":{"shoot":"T20","left":243},
"304":{"shoot":"T20","left":244},
"305":{"shoot":"T20","left":245},
"306":{"shoot":"T20","left":246},
"307":{"shoot":"T20","left":247},
"308":{"shoot":"T20","left":248},
"309":{"shoot":"T20","left":249},
"310":{"shoot":"T20","left":250},
"311":{"shoot":"T20","left":251},
"312":{"shoot":"T20","left":252},
"313":{"shoot":"T20","left":253},
"314":{"shoot":"T20","left":254},
"315":{"shoot":"T20","left":255},
"316":{"shoot":"T20","left":256},
"317":{"shoot":"T20","left":257},
"318":{"shoot":"T20","left":258},
"319":{"shoot":"T20","left":259},
"320":{"shoot":"T20","left":260},
"321":{"shoot":"T20","left":261},
"322":{"shoot":"T20","left":262},
"323":{"shoot":"T20","left":263},
"324":{"shoot":"T20","left":264},
"325":{"shoot":"T20","left":265},
"326":{"shoot":"T20","left":266},
"327":{"shoot":"T20","left":267},
"328":{"shoot":"T20","left":268},
"329":{"shoot":"T20","left":269},
"330":{"shoot":"T20","left":270},
"331":{"shoot":"T20","left":271},
"332":{"shoot":"T20","left":272},
"333":{"shoot":"T20","left":273},
"334":{"shoot":"T20","left":274},
"335":{"shoot":"T20","left":275},
"336":{"shoot":"T20","left":276},
"337":{"shoot":"T20","left":277},
"338":{"shoot":"T20","left":278},
"339":{"shoot":"T20","left":279},
"340":{"shoot":"T20","left":280},
"341":{"shoot":"T20","left":281},
"342":{"shoot":"T20","left":282},
"343":{"shoot":"T20","left":283},
"344":{"shoot":"T20","left":284},
"345":{"shoot":"T20","left":285},
"346":{"shoot":"T20","left":286},
"347":{"shoot":"T20","left":287},
"348":{"shoot":"T20","left":288},
"349":{"shoot":"T20","left":289},
"350":{"shoot":"T20","left":290},
"351":{"shoot":"T20","left":291},
"352":{"shoot":"T20","left":292},
"353":{"shoot":"T20","left":293},
"354":{"shoot":"T20","left":294},
"355":{"shoot":"T20","left":295},
"356":{"shoot":"T20","left":296},
"357":{"shoot":"T20","left":297},
"358":{"shoot":"T20","left":298},
"359":{"shoot":"T20","left":299},
"360":{"shoot":"T20","left":300},
"361":{"shoot":"T20","left":301},
"362":{"shoot":"T20","left":302},
"363":{"shoot":"T20","left":303},
"364":{"shoot":"T20","left":304},
"365":{"shoot":"T20","left":305},
"366":{"shoot":"T20","left":306},
"367":{"shoot":"T20","left":307},
"368":{"shoot":"T20","left":308},
"369":{"shoot":"T20","left":309},
"370":{"shoot":"T20","left":310},
"371":{"shoot":"T20","left":311},
"372":{"shoot":"T20","left":312},
"373":{"shoot":"T20","left":313},
"374":{"shoot":"T20","left":314},
"375":{"shoot":"T20","left":315},
"376":{"shoot":"T20","left":316},
"377":{"shoot":"T20","left":317},
"378":{"shoot":"T20","left":318},
"379":{"shoot":"T20","left":319},
"380":{"shoot":"T20","left":320},
"381":{"shoot":"T20","left":321},
"382":{"shoot":"T20","left":322},
"383":{"shoot":"T20","left":323},
"384":{"shoot":"T20","left":324},
"385":{"shoot":"T20","left":325},
"386":{"shoot":"T20","left":326},
"387":{"shoot":"T20","left":327},
"388":{"shoot":"T20","left":328},
"389":{"shoot":"T20","left":329},
"390":{"shoot":"T20","left":330},
"391":{"shoot":"T20","left":331},
"392":{"shoot":"T20","left":332},
"393":{"shoot":"T20","left":333},
"394":{"shoot":"T20","left":334},
"395":{"shoot":"T20","left":335},
"396":{"shoot":"T20","left":336},
"397":{"shoot":"T20","left":337},
"398":{"shoot":"T20","left":338},
"399":{"shoot":"T20","left":339},
"400":{"shoot":"T20","left":340},
"401":{"shoot":"T20","left":341},
"402":{"shoot":"T20","left":342},
"403":{"shoot":"T20","left":343},
"404":{"shoot":"T20","left":344},
"405":{"shoot":"T20","left":345},
"406":{"shoot":"T20","left":346},
"407":{"shoot":"T20","left":347},
"408":{"shoot":"T20","left":348},
"409":{"shoot":"T20","left":349},
"410":{"shoot":"T20","left":350},
"411":{"shoot":"T20","left":351},
"412":{"shoot":"T20","left":352},
"413":{"shoot":"T20","left":353},
"414":{"shoot":"T20","left":354},
"415":{"shoot":"T20","left":355},
"416":{"shoot":"T20","left":356},
"417":{"shoot":"T20","left":357},
"418":{"shoot":"T20","left":358},
"419":{"shoot":"T20","left":359},
"420":{"shoot":"T20","left":360},
"421":{"shoot":"T20","left":361},
"422":{"shoot":"T20","left":362},
"423":{"shoot":"T20","left":363},
"424":{"shoot":"T20","left":364},
"425":{"shoot":"T20","left":365},
"426":{"shoot":"T20","left":366},
"427":{"shoot":"T20","left":367},
"428":{"shoot":"T20","left":368},
"429":{"shoot":"T20","left":369},
"430":{"shoot":"T20","left":370},
"431":{"shoot":"T20","left":371},
"432":{"shoot":"T20","left":372},
"433":{"shoot":"T20","left":373},
"434":{"shoot":"T20","left":374},
"435":{"shoot":"T20","left":375},
"436":{"shoot":"T20","left":376},
"437":{"shoot":"T20","left":377},
"438":{"shoot":"T20","left":378},
"439":{"shoot":"T20","left":379},
"440":{"shoot":"T20","left":380},
"441":{"shoot":"T20","left":381},
"442":{"shoot":"T20","left":382},
"443":{"shoot":"T20","left":383},
"444":{"shoot":"T20","left":384},
"445":{"shoot":"T20","left":385},
"446":{"shoot":"T20","left":386},
"447":{"shoot":"T20","left":387},
"448":{"shoot":"T20","left":388},
"449":{"shoot":"T20","left":389},
"450":{"shoot":"T20","left":390},
"451":{"shoot":"T20","left":391},
"452":{"shoot":"T20","left":392},
"453":{"shoot":"T20","left":393},
"454":{"shoot":"T20","left":394},
"455":{"shoot":"T20","left":395},
"456":{"shoot":"T20","left":396},
"457":{"shoot":"T20","left":397},
"458":{"shoot":"T20","left":398},
"459":{"shoot":"T20","left":399},
"460":{"shoot":"T20","left":400},
"461":{"shoot":"T20","left":401},
"462":{"shoot":"T20","left":402},
"463":{"shoot":"T20","left":403},
"464":{"shoot":"T20","left":404},
"465":{"shoot":"T20","left":405},
"466":{"shoot":"T20","left":406},
"467":{"shoot":"T20","left":407},
"468":{"shoot":"T20","left":408},
"469":{"shoot":"T20","left":409},
"470":{"shoot":"T20","left":410},
"471":{"shoot":"T20","left":411},
"472":{"shoot":"T20","left":412},
"473":{"shoot":"T20","left":413},
"474":{"shoot":"T20","left":414},
"475":{"shoot":"T20","left":415},
"476":{"shoot":"T20","left":416},
"477":{"shoot":"T20","left":417},
"478":{"shoot":"T20","left":418},
"479":{"shoot":"T20","left":419},
"480":{"shoot":"T20","left":420},
"481":{"shoot":"T20","left":421},
"482":{"shoot":"T20","left":422},
"483":{"shoot":"T20","left":423},
"484":{"shoot":"T20","left":424},
"485":{"shoot":"T20","left":425},
"486":{"shoot":"T20","left":426},
"487":{"shoot":"T20","left":427},
"488":{"shoot":"T20","left":428},
"489":{"shoot":"T20","left":429},
"490":{"shoot":"T20","left":430},
"491":{"shoot":"T20","left":431},
"492":{"shoot":"T20","left":432},
"493":{"shoot":"T20","left":433},
"494":{"shoot":"T20","left":434},
"495":{"shoot":"T20","left":435},
"496":{"shoot":"T20","left":436},
"497":{"shoot":"T20","left":437},
"498":{"shoot":"T20","left":438},
"499":{"shoot":"T20","left":439},
"500":{"shoot":"T20","left":440},
"501":{"shoot":"T20","left":441}
};

let remaining=null;
const $=(id)=>document.getElementById(id);
const setText=(id,v)=>{$(id).textContent=v;};

function setStatus(msg,kind){
  const s=$("status");
  s.textContent=msg||"";
  s.classList.remove("error","win");
  if(kind) s.classList.add(kind);
}
function clearFlights(){
  setText("d1","â€”"); setText("l1","â€”");
  setText("d2","â€”"); setText("l2","â€”");
  setText("d3","â€”"); setText("l3","â€”");
}

/* Training guidance for ANY number > 501 (up to 701) */
function showTraining(rem){
  setText("d1","T20"); setText("l1", String(rem-60));
  setText("d2","T20"); setText("l2", String(rem-120));
  setText("d3","T20"); setText("l3", String(rem-180));
}

/* Use OUTS table if available; otherwise default to training-style T20 */
function applySuggestions(rem){
  clearFlights();
  if(!Number.isFinite(rem) || rem<0) return;

  if(rem===0){ setStatus("CHECKOUT! ðŸŽ¯","win"); return; }

  setStatus("");

  if(rem>501){ showTraining(rem); return; }

  let cur=rem;
  for(let i=1;i<=3;i++){
    if(cur<=0) break;
    const entry=OUTS[String(cur)];
    if(entry){
      setText("d"+i, entry.shoot);
      setText("l"+i, String(entry.left));
      cur=entry.left;
    }else{
      // fallback (shouldn't happen once full spreadsheet outs are loaded)
      setText("d"+i,"T20");
      setText("l"+i,String(Math.max(cur-60,0)));
      cur=Math.max(cur-60,0);
    }
  }
}

function resetTo(start){
  if(!Number.isFinite(start) || start<2 || start>701){
    remaining=null;
    setText("left","â€”");
    clearFlights();
    setStatus("Starting score must be between 2 and 701.","error");
    return;
  }
  remaining=start;
  $("startScore").value=String(remaining);
  setText("left",String(remaining));
  setStatus("");
  applySuggestions(remaining);
  $("hit").value="";
}

function enterScore(){
  if(remaining===null) resetTo(Number($("startScore").value));
  if(remaining===null) return;

  const raw=String($("hit").value??"").trim();
  const hit=Number(raw);
  if(raw==="" || !Number.isFinite(hit)) return;

  if(hit<0 || hit>180){
    setStatus("Enter a valid visit score (0â€“180).","error");
    return;
  }

  const newRemaining=remaining-hit;

  // double-out bust rules: cannot go below 0, cannot leave 1
  if(newRemaining<0 || newRemaining===1){
    setStatus("BUST â€” score does not count.","error");
    $("hit").value="";
    $("hit").blur();
    return;
  }

  remaining=newRemaining;
  $("startScore").value=String(remaining); // mirror
  setText("left",String(remaining));
  setStatus("");
  applySuggestions(remaining);

  $("hit").value="";
  $("hit").blur();
}

$("scoreForm").addEventListener("submit",(e)=>{e.preventDefault();enterScore();});
$("clearBtn").addEventListener("click",()=>{$("hit").value="";setStatus("");});
$("set501").addEventListener("click",()=>{resetTo(501);});
$("set701").addEventListener("click",()=>{resetTo(701);});
$("startScore").addEventListener("change",()=>{resetTo(Number($("startScore").value));});
window.addEventListener("error",(e)=>{setStatus("ERROR: "+(e.message||"Unknown"),"error");});

resetTo(701);
</script>
</body>
</html>
